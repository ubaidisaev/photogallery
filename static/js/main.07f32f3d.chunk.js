(this.webpackJsonpreactapp=this.webpackJsonpreactapp||[]).push([[0],{119:function(e,t,n){"use strict";n.r(t);var a=n(30),c=n(12),r=n(0),o=n(176),u=n(161),i=n(166),s=n(167),l=n(165),b=n(21),j=n.n(b),d=n(14),h=n(31),p=n(35),O=n(36),f="https://jsonplaceholder.typicode.com",m=n(81),x=n.n(m),v=function(){function e(){Object(p.a)(this,e)}return Object(O.a)(e,null,[{key:"get",value:function(){var e=Object(h.a)(j.a.mark((function e(t,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x.a.get(t,n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),g=function(){function e(){Object(p.a)(this,e)}return Object(O.a)(e,null,[{key:"getAllPhotos",value:function(){var e=Object(h.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("".concat(f,"/photos"));case 2:return t=e.sent.data,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPhotos",value:function(){var e=Object(h.a)(j.a.mark((function e(){var t,n,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.next=3,v.get("".concat(f,"/photos?_page=").concat(t,"&_limit=6"));case 3:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getPhotosByAlbum",value:function(){var e=Object(h.a)(j.a.mark((function e(){var t,n,a,c=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:1,n=c.length>1&&void 0!==c[1]?c[1]:1,e.next=4,v.get("".concat(f,"/albums/").concat(n,"/photos?_page=").concat(t,"&_limit=6"));case 4:return a=e.sent.data,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),w=n(2),k=Object(r.createContext)({}),y=function(e){var t=e.children,n=Object(r.useState)(!0),a=Object(c.a)(n,2),o=a[0],u=a[1],i=Object(r.useState)([1]),s=Object(c.a)(i,2),l=s[0],b=s[1];Object(r.useEffect)((function(){p()}),[]);var p=function(){var e=Object(h.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.getAllPhotos();case 3:t=e.sent,n=t.map((function(e){return e.albumId})),b(Object(d.a)(new Set(n))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("ERROR",e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(k.Provider,{value:{isLoading:o,albumIds:l},children:t})},C=function(e){var t=e.onAlbumChange,n=e.albumId,a=Object(r.useContext)(k).albumIds;return Object(w.jsx)("div",{children:Object(w.jsxs)(i.a,{sx:{m:1,minWidth:200},children:[Object(w.jsx)(s.a,{id:"demo-simple-select-autowidth-label",children:"Album-Id"}),Object(w.jsxs)(u.a,{labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:n,onChange:function(e){t(e.target.value)},autoWidth:!0,label:"Album-Id",children:[Object(w.jsx)(l.a,{value:""}),a.map((function(e){return Object(w.jsx)(l.a,{value:e,children:e},e)}))]})]})})},I=n(83),A=n(164),S=n(170),P=function(e){return Object(w.jsx)(S.a,{mt:2,display:"flex",justifyContent:"center",children:Object(w.jsx)(A.a,Object(I.a)({count:10,variant:"outlined",shape:"rounded"},e))})},D=n(163),E=function(e){var t=e.open,n=e.onClose,a=e.modalPhotoUrl;return Object(w.jsx)(D.a,{open:t,onClose:n,children:Object(w.jsx)(S.a,{sx:{padding:0,textAlign:"center",width:600,margin:"auto"},children:Object(w.jsx)("img",{alt:"modal",width:"600",height:"600",src:a})})})},M=n(172),B=n(173),U=n(174),_=n(175),R=n(169),W=function(e){var t=e.imgSrc,n=e.onDelete,a=e.onModalOpen,c=e.id,r=e.albumId;return Object(w.jsxs)(M.a,{sx:{margin:1},children:[Object(w.jsxs)(B.a,{onClick:a,children:[Object(w.jsx)(U.a,{component:"img",height:"150",image:t}),Object(w.jsxs)("b",{children:["ID-",c]}),Object(w.jsx)("br",{}),Object(w.jsxs)("b",{children:["ALBUM-",r]})]}),Object(w.jsx)(_.a,{children:Object(w.jsx)(R.a,{variant:"contained",color:"error",sx:{margin:"auto"},onClick:n,children:"Delete"})})]})},J=function(e){var t=e.photos,n=e.onDelete,a=e.openModalClick;return Object(w.jsx)(S.a,{sx:{display:"flex",flexWrap:"wrap"},children:t.map((function(e,t){return Object(w.jsx)(W,{onModalOpen:(r=e.url,function(){a(r)}),onDelete:(c=e.id,function(){n(c)}),imgSrc:e.thumbnailUrl,id:e.id,albumId:e.albumId},e.id);var c,r}))})};var L=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],a=t[1],u=Object(r.useState)(1),i=Object(c.a)(u,2),s=i[0],l=i[1],b=Object(r.useState)(!1),j=Object(c.a)(b,2),d=j[0],h=j[1],p=Object(r.useState)(""),O=Object(c.a)(p,2),f=O[0],m=O[1],x=Object(r.useState)(""),v=Object(c.a)(x,2),k=v[0],y=v[1];Object(r.useEffect)((function(){k?g.getPhotosByAlbum(s,k).then(a):g.getPhotos(s).then(a)}),[s,k]),Object(r.useEffect)((function(){f&&h(!0)}),[f]);var I=Object(r.useCallback)((function(e,t){l(t)}),[]);return Object(w.jsxs)(o.a,{children:[Object(w.jsx)(C,{albumId:k,onAlbumChange:function(e){y(e)}}),Object(w.jsx)(J,{openModalClick:m,photos:n,onDelete:function(e){var t=n.filter((function(t){return t.id!==e}));a(t)}}),Object(w.jsx)(P,{page:s,onChange:I}),Object(w.jsx)(E,{open:d,onClose:function(){return h(!1)},modalPhotoUrl:f})]})};Object(a.render)(Object(w.jsx)(y,{children:Object(w.jsx)(L,{})}),document.getElementById("root"))}},[[119,1,2]]]);
//# sourceMappingURL=main.07f32f3d.chunk.js.map